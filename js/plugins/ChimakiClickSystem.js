/*:zh_TW
 * @target MZ
 * @plugindesc 自由圖片按鈕系統
 * @author Maker製造機 Chimaki
 * @url https://linktr.ee/chimakier
 * 
 * 
 * 
 * @help
 * 範例+影片
 * see https://chimakier.notion.site/MV-MZ-35d0e205766144f6814e9e6c36c03eff
 *
 */
const a0_0x903ff4=a0_0x20a2;(function(_0x1ebdaa,_0x845573){const _0x546c94=a0_0x20a2,_0x136176=_0x1ebdaa();while(!![]){try{const _0x2b06ab=parseInt(_0x546c94(0x1ce))/0x1*(parseInt(_0x546c94(0x128))/0x2)+parseInt(_0x546c94(0x161))/0x3+-parseInt(_0x546c94(0x14b))/0x4+parseInt(_0x546c94(0x18f))/0x5+parseInt(_0x546c94(0x126))/0x6+parseInt(_0x546c94(0x162))/0x7*(-parseInt(_0x546c94(0x116))/0x8)+-parseInt(_0x546c94(0x1a4))/0x9*(parseInt(_0x546c94(0x130))/0xa);if(_0x2b06ab===_0x845573)break;else _0x136176['push'](_0x136176['shift']());}catch(_0x4fc942){_0x136176['push'](_0x136176['shift']());}}}(a0_0x5129,0xca5fe));var chimakiModule=chimakiModule||{};(function(){const _0x14ff92=a0_0x20a2;class _0x2f6430 extends Sprite{constructor(){super(...arguments);}[_0x14ff92(0x1c5)](){const _0x1ecdc0=_0x14ff92;super[_0x1ecdc0(0x1c5)](...arguments),this[_0x1ecdc0(0x11a)][_0x1ecdc0(0x1ab)](0.5),this[_0x1ecdc0(0x12f)]=!![],this[_0x1ecdc0(0x178)]();}[_0x14ff92(0x178)](){const _0x55f1db=_0x14ff92;this['on'](_0x55f1db(0x139),this[_0x55f1db(0x133)][_0x55f1db(0x138)](this)),this['on']('pointerup',this[_0x55f1db(0x14d)]['bind'](this)),this['on'](_0x55f1db(0x1c7),this['onPress']['bind'](this)),this['on'](_0x55f1db(0x145),this[_0x55f1db(0x199)][_0x55f1db(0x138)](this)),this['on']('pointermove',this[_0x55f1db(0x1b1)]['bind'](this)),this['on'](_0x55f1db(0x15c),this[_0x55f1db(0x1b3)]['bind'](this));}['isOver'](){return this['_over'];}[_0x14ff92(0x1a5)](){return this['_down'];}[_0x14ff92(0x16b)](){const _0x2954d9=_0x14ff92;return!this[_0x2954d9(0x15b)];}[_0x14ff92(0x1a0)](){const _0x53d7e5=_0x14ff92;return this[_0x53d7e5(0x192)]&&!this[_0x53d7e5(0x15b)];}['isPressed'](){const _0x585403=_0x14ff92;return this[_0x585403(0x192)]&&this[_0x585403(0x15b)];}[_0x14ff92(0x133)](){const _0x1e806c=_0x14ff92;this[_0x1e806c(0x192)]=!![];}['onUp'](){const _0xb92200=_0x14ff92;this[_0xb92200(0x15b)]=![];}[_0x14ff92(0x184)](){const _0x32a0c2=_0x14ff92;this['_clickHandler']&&this['_clickHandler'](),this[_0x32a0c2(0x15b)]=!![];}[_0x14ff92(0x199)](){const _0x2301bd=_0x14ff92;this[_0x2301bd(0x192)]=![],this['_down']=![];}[_0x14ff92(0x1b1)](){const _0x4f34a2=_0x14ff92;this[_0x4f34a2(0x15b)]=![];}['onClick'](){const _0x47f1a6=_0x14ff92;this[_0x47f1a6(0x15b)]=![];}[_0x14ff92(0x141)](_0x4bc35c){const _0x39d172=_0x14ff92;this[_0x39d172(0x123)]=_0x4bc35c;}}class _0x23210c extends _0x2f6430{[_0x14ff92(0x1c5)](_0xfb7898){const _0x4a5b12=_0x14ff92;super[_0x4a5b12(0x1c5)](...arguments),this[_0x4a5b12(0x11a)][_0x4a5b12(0x1ab)](0x0),this[_0x4a5b12(0x168)]=_0xfb7898,this['_over']=![],this['_down']=![],this[_0x4a5b12(0x123)]=null,this[_0x4a5b12(0x131)]=null,this['_leaveCallback']=null,this['buttonMode']=!![];}[_0x14ff92(0x177)](_0x3bf73c){this['_overCallback']=_0x3bf73c;}['setLeaveCallback'](_0x4400c3){const _0x11a7e1=_0x14ff92;this[_0x11a7e1(0x170)]=_0x4400c3;}['onOver'](_0x3142d9){const _0x2ad32d=_0x14ff92;super['onOver'](...arguments),this[_0x2ad32d(0x136)]([0x64,0x64,0x64,0.5]),this[_0x2ad32d(0x169)][_0x2ad32d(0x1ab)](1.1),this[_0x2ad32d(0x131)]&&this[_0x2ad32d(0x131)](_0x3142d9);}['onLeave'](_0x5350f8){const _0x255a04=_0x14ff92;super[_0x255a04(0x199)](...arguments),this[_0x255a04(0x136)]([0x0,0x0,0x0,0x0]),this[_0x255a04(0x169)]['set'](0x1),this[_0x255a04(0x170)]&&this[_0x255a04(0x170)](_0x5350f8);}['onPress'](){const _0x417f2b=_0x14ff92;super[_0x417f2b(0x184)](...arguments);}[_0x14ff92(0x1b3)](_0x3d542c){const _0x38c0d7=_0x14ff92;super[_0x38c0d7(0x1b3)](...arguments);}}class _0x1d1215 extends _0x2f6430{constructor(){super(...arguments);}[_0x14ff92(0x1c5)](_0x3ec815){const _0x4de73f=_0x14ff92;super[_0x4de73f(0x1c5)](...arguments),this['bitmap']=_0x3ec815,this[_0x4de73f(0x192)]=![],this['_down']=![],this['_clickHandler']=null;}[_0x14ff92(0x133)](){const _0x3a9f8b=_0x14ff92;super[_0x3a9f8b(0x133)](...arguments),this[_0x3a9f8b(0x168)]=this[_0x3a9f8b(0x15b)]?this[_0x3a9f8b(0x1c6)]:this[_0x3a9f8b(0x134)];}[_0x14ff92(0x14d)](){const _0x153afe=_0x14ff92;super[_0x153afe(0x14d)](...arguments),this[_0x153afe(0x168)]=this[_0x153afe(0x134)];}[_0x14ff92(0x184)](){const _0x25d1e7=_0x14ff92;super[_0x25d1e7(0x184)](...arguments),this[_0x25d1e7(0x168)]=this[_0x25d1e7(0x1c6)];}[_0x14ff92(0x199)](){const _0x1eceef=_0x14ff92;super['onLeave'](...arguments),this[_0x1eceef(0x168)]=this['_bitmapNormal'];}[_0x14ff92(0x1b1)](){const _0x1dbb6d=_0x14ff92;super[_0x1dbb6d(0x1b1)](...arguments),this[_0x1dbb6d(0x168)]=this[_0x1dbb6d(0x16d)];}[_0x14ff92(0x1b3)](){const _0x347838=_0x14ff92;super[_0x347838(0x1b3)](...arguments),this[_0x347838(0x168)]=this[_0x347838(0x134)];}[_0x14ff92(0x12e)](_0x3ac4b1,_0xa5e88f,_0x34c71d){const _0x4e8c65=_0x14ff92;this[_0x4e8c65(0x16d)]=_0x3ac4b1,this['_bitmapHover']=_0xa5e88f;if(!this[_0x4e8c65(0x134)])this[_0x4e8c65(0x134)]=_0x3ac4b1;this[_0x4e8c65(0x1c6)]=_0x34c71d;if(!this['_bitmapClick'])this[_0x4e8c65(0x1c6)]=_0x3ac4b1;this[_0x4e8c65(0x168)]=_0x3ac4b1;}}class _0x5052c0 extends _0x1d1215{constructor(){super(...arguments);}[_0x14ff92(0x1c5)](){super['initialize'](...arguments);}[_0x14ff92(0x1b9)](_0x1d3a8f,_0x9bece1=0x0){const _0x5bfa56=_0x14ff92;if(!this[_0x5bfa56(0x168)])return;this[_0x5bfa56(0x18e)]=_0x1d3a8f,this['_param']=_0x9bece1,this[_0x5bfa56(0x168)]['clear'](),this['bitmap'][_0x5bfa56(0x17b)](this[_0x5bfa56(0x18e)],0x0,0x0,this[_0x5bfa56(0x168)][_0x5bfa56(0x12b)],this[_0x5bfa56(0x168)][_0x5bfa56(0x194)],'left'),this['bitmap']['drawText'](this['_param'],0x0,0x0,this[_0x5bfa56(0x168)][_0x5bfa56(0x12b)],this[_0x5bfa56(0x168)]['height'],_0x5bfa56(0x1ca));}['setOverCallback'](_0x57b527){this['_overCallback']=_0x57b527;}[_0x14ff92(0x197)](_0x3e4322){const _0x569823=_0x14ff92;this[_0x569823(0x1b2)]=_0x3e4322;}[_0x14ff92(0x199)](){const _0x5af0fa=_0x14ff92;super[_0x5af0fa(0x199)](...arguments),this['_outCallback']&&this[_0x5af0fa(0x1b2)]();}['onOver'](){const _0x17f5a4=_0x14ff92;super[_0x17f5a4(0x133)](...arguments),this[_0x17f5a4(0x131)]&&this['_overCallback']();}}class _0x1d58ac extends _0x5052c0{constructor(){super(...arguments);}[_0x14ff92(0x1c5)](){const _0x2bebf6=_0x14ff92;super[_0x2bebf6(0x1c5)](...arguments),this['createMoveMotion']();}[_0x14ff92(0x13c)](){const _0x51046a=_0x14ff92;this[_0x51046a(0x11d)]=new MoveMotion(this);}[_0x14ff92(0x1cc)](_0x238598){const _0x36fd2c=_0x14ff92;if(!this[_0x36fd2c(0x168)])return;this[_0x36fd2c(0x168)]['fontSize']=_0x238598;}[_0x14ff92(0x166)](_0x10c064,_0x534f49,_0x19f286,_0x248d4){const _0x31f66a=_0x14ff92;this['bitmap'][_0x31f66a(0x17b)](_0x10c064,_0x534f49,_0x19f286,this[_0x31f66a(0x168)][_0x31f66a(0x12b)],this[_0x31f66a(0x168)][_0x31f66a(0x194)],_0x248d4);}['setText'](_0x353688,_0x683d18,_0x29174d,_0x5ba66a){const _0x2f70e5=_0x14ff92;if(!this[_0x2f70e5(0x168)])return;this[_0x2f70e5(0x168)]['clear'](),this['bitmap']['fillAll'](_0x2f70e5(0x16f)),this[_0x2f70e5(0x168)]['drawText'](_0x353688,_0x683d18,_0x29174d,this[_0x2f70e5(0x168)]['width'],this[_0x2f70e5(0x168)][_0x2f70e5(0x194)],_0x5ba66a);}['fadeOut'](_0x4b7fe7,_0x6f59f1,_0x37a312){const _0x2cccbd=_0x14ff92;this[_0x2cccbd(0x11d)]['setup'](_0x4b7fe7,_0x6f59f1,_0x37a312);}[_0x14ff92(0x1bd)](){const _0x5124c7=_0x14ff92;super['update'](...arguments),this[_0x5124c7(0x11d)]['update']();}}class _0xf9639d extends Sprite{constructor(){const _0x24458e=_0x14ff92;super(...arguments),this[_0x24458e(0x150)]=!![];}}class _0x595231 extends PIXI[_0x14ff92(0x174)]{constructor(){const _0x2920eb=_0x14ff92;super(...arguments),this[_0x2920eb(0x1c5)](...arguments);}['initialize'](){}[_0x14ff92(0x1bd)](){const _0x5e179d=_0x14ff92;this[_0x5e179d(0x12c)]['forEach'](_0x1c2b79=>{const _0x3ed8a2=_0x5e179d;_0x1c2b79[_0x3ed8a2(0x1bd)]();});}}class _0x3c559 extends Sprite{[_0x14ff92(0x1c5)](){const _0x30624a=_0x14ff92;super['initialize'](...arguments);let _0x59c52a=ImageManager[_0x30624a(0x187)](_0x30624a(0x1bb));_0x59c52a[_0x30624a(0x140)](()=>{const _0x1b7580=_0x30624a;this[_0x1b7580(0x168)]=_0x59c52a;}),this[_0x30624a(0x13e)]=![],this[_0x30624a(0x1af)](),this[_0x30624a(0x1a1)]=this[_0x30624a(0x17f)]=this['x'];}['resetWait'](){const _0x84571e=_0x14ff92;this[_0x84571e(0x117)]=0x2;}[_0x14ff92(0x1aa)](_0x3e8945,_0x106aca){const _0x2c90fa=_0x14ff92;_0x3e8945!=null&&(this['x']=_0x3e8945,this[_0x2c90fa(0x17f)]=_0x3e8945,this[_0x2c90fa(0x1a1)]=_0x3e8945+0xa,this['_startMove']=!![]),_0x106aca!=null&&(this['y']=_0x106aca);}[_0x14ff92(0x1bd)](){const _0x5426b9=_0x14ff92;super['update'](),this[_0x5426b9(0x190)]();}['updateMove'](){const _0x10647c=_0x14ff92;if(this[_0x10647c(0x117)]>0x0){this[_0x10647c(0x117)]--;return;}if(this['_startMove']){if(this['x']<this['_rx'])this['x']++;else this['x']>=this[_0x10647c(0x1a1)]&&(this[_0x10647c(0x13e)]=![]);}!this[_0x10647c(0x13e)]&&(this['x']>this['_lx']&&this['x']--,this['x']<=this['_lx']&&(this['_startMove']=!![])),this[_0x10647c(0x1af)]();}}chimakiModule['SpriteBtnBlend']=_0x23210c,chimakiModule[_0x14ff92(0x19e)]=_0x1d1215,chimakiModule['ContainerTouch']=_0xf9639d,chimakiModule['SpriteBtnParam']=_0x5052c0,chimakiModule[_0x14ff92(0x19b)]=_0x595231,chimakiModule[_0x14ff92(0x176)]=_0x1d58ac,chimakiModule['SpriteBtnBase']=_0x2f6430,chimakiModule[_0x14ff92(0x19a)]=_0x3c559;}());if(Utils[a0_0x903ff4(0x180)]=='MZ'){let alias_Graphics_updateCanvas=Graphics[a0_0x903ff4(0x13b)];Graphics[a0_0x903ff4(0x13b)]=function(){const _0x14f699=a0_0x903ff4;alias_Graphics_updateCanvas[_0x14f699(0x1b0)](this),this[_0x14f699(0x11b)][_0x14f699(0x163)][_0x14f699(0x143)]=0xb;};}else Graphics[a0_0x903ff4(0x13b)]=function(){const _0x37537e=a0_0x903ff4;this[_0x37537e(0x11b)][_0x37537e(0x12b)]=this[_0x37537e(0x18b)],this[_0x37537e(0x11b)][_0x37537e(0x194)]=this[_0x37537e(0x17c)],this[_0x37537e(0x11b)][_0x37537e(0x163)][_0x37537e(0x143)]=0x63,this['_centerElement'](this['_canvas']);};let _scene_error=SceneManager[a0_0x903ff4(0x1ad)];SceneManager[a0_0x903ff4(0x1ad)]=function(_0x4a47c3){const _0x46455b=a0_0x903ff4;this[_0x46455b(0x11b)][_0x46455b(0x163)]['zIndex']=0x1,_scene_error[_0x46455b(0x1b0)](this,_0x4a47c3);};var chimakiModule=chimakiModule||{};chimakiModule[a0_0x903ff4(0x175)]=chimakiModule['motion']||{},((()=>{const _0x4d3a6d=a0_0x903ff4;class _0x50eedf{constructor(_0x58c0ea){const _0x377fc=a0_0x20a2;this[_0x377fc(0x18c)]=0x0,this['_displayObj']=_0x58c0ea,this['_targetX']=0x0;}[_0x4d3a6d(0x183)](_0x3d6700,_0x398fa0={},_0x1a05a5=0x2){const _0x198569=_0x4d3a6d;this['_delay']=_0x398fa0['delay']?_0x398fa0[_0x198569(0x1c0)]:0x0,this[_0x198569(0x167)]=this[_0x198569(0x18c)]=_0x3d6700,this[_0x198569(0x135)]=_0x398fa0['x']?_0x398fa0['x']:this[_0x198569(0x19f)]['x'],this[_0x198569(0x15f)]=_0x398fa0['y']?_0x398fa0['y']:this[_0x198569(0x19f)]['y'],this[_0x198569(0x13a)]=_0x1a05a5,this[_0x198569(0x15d)]=0x2,this['_blurDelay']=_0x398fa0[_0x198569(0x173)]?_0x398fa0[_0x198569(0x173)]:0x0,this[_0x198569(0x160)]=_0x398fa0[_0x198569(0x169)]?_0x398fa0[_0x198569(0x169)]:this['_displayObj'][_0x198569(0x169)]['x'],this['_targetScaleY']=_0x398fa0[_0x198569(0x169)]?_0x398fa0['scale']:this[_0x198569(0x19f)][_0x198569(0x169)]['x'];;this[_0x198569(0x16e)]=_0x398fa0[_0x198569(0x132)]!=null?_0x398fa0[_0x198569(0x132)]:![],this[_0x198569(0x1a3)]=_0x398fa0[_0x198569(0x124)]!=null?_0x398fa0[_0x198569(0x124)]:this['_displayObj']['opacity'];}[_0x4d3a6d(0x18d)](){const _0x192ffc=_0x4d3a6d;return this[_0x192ffc(0x18c)]>0x0||this[_0x192ffc(0x121)]>0x0;}[_0x4d3a6d(0x1bd)](){const _0x5cb54c=_0x4d3a6d;if(this[_0x5cb54c(0x121)]>0x0){this[_0x5cb54c(0x121)]--;return;}if(this[_0x5cb54c(0x18c)]>0x0)this[_0x5cb54c(0x19f)]['x']=this['applyEasing'](this[_0x5cb54c(0x19f)]['x'],this['_targetX']),this[_0x5cb54c(0x19f)]['y']=this[_0x5cb54c(0x16c)](this[_0x5cb54c(0x19f)]['y'],this['_targetY']),this[_0x5cb54c(0x19f)][_0x5cb54c(0x169)]['x']=this[_0x5cb54c(0x16c)](this[_0x5cb54c(0x19f)][_0x5cb54c(0x169)]['x'],this[_0x5cb54c(0x160)]),this[_0x5cb54c(0x19f)]['scale']['y']=this['applyEasing'](this[_0x5cb54c(0x19f)][_0x5cb54c(0x169)]['y'],this[_0x5cb54c(0x125)]),this[_0x5cb54c(0x19f)][_0x5cb54c(0x124)]=this['applyEasing'](this['_displayObj'][_0x5cb54c(0x124)],this['_tagetOpacity']),this['_duration']--,this[_0x5cb54c(0x16e)]&&this[_0x5cb54c(0x18c)]<=0x0&&(this[_0x5cb54c(0x16e)]=![]);else{}}[_0x4d3a6d(0x146)](){const _0x5be5c4=_0x4d3a6d;return this[_0x5be5c4(0x16e)];}[_0x4d3a6d(0x16c)](_0x45a7a7,_0x36df9b){const _0x531da7=_0x4d3a6d,_0x499063=this[_0x531da7(0x18c)],_0x4a63ec=this[_0x531da7(0x167)],_0x1fc4ed=this[_0x531da7(0x195)]((_0x4a63ec-_0x499063)/_0x4a63ec),_0x2ff508=this['calcEasing']((_0x4a63ec-_0x499063+0x1)/_0x4a63ec),_0x4459a1=(_0x45a7a7-_0x36df9b*_0x1fc4ed)/(0x1-_0x1fc4ed);return _0x4459a1+(_0x36df9b-_0x4459a1)*_0x2ff508;}[_0x4d3a6d(0x195)](_0x3ad9f2){const _0x3f6849=_0x4d3a6d,_0x392b80=this[_0x3f6849(0x15d)];switch(this['_easingType']){case 0x1:return this[_0x3f6849(0x1b7)](_0x3ad9f2,_0x392b80);case 0x2:return this['easeOut'](_0x3ad9f2,_0x392b80);case 0x3:return this[_0x3f6849(0x188)](_0x3ad9f2,_0x392b80);default:return _0x3ad9f2;}}['easeIn'](_0x37cf34,_0x44e515){const _0xc730d7=_0x4d3a6d;return Math[_0xc730d7(0x1c9)](_0x37cf34,_0x44e515);}[_0x4d3a6d(0x17a)](_0x52c262,_0x4e9a3b){const _0x44e51d=_0x4d3a6d;return 0x1-Math[_0x44e51d(0x1c9)](0x1-_0x52c262,_0x4e9a3b);}}chimakiModule[_0x4d3a6d(0x175)][_0x4d3a6d(0x137)]=_0x50eedf;})());function a0_0x5129(){const _0x38e22d=['isAniRunning','createSpriteset','\x20不存在,\x20事件設定失敗','_btns','initialize','_bitmapClick','pointerdown','關閉顯示\x20','pow','right','disableBtn','setFontSize','chimakiBtn_','460JgnFwM','setLeaveEventId','89416UJWABM','_wait','設定leave事件id\x20','getClickBtnContainer','anchor','_canvas','_hoverEventId','_moving','updateBtnPosition','loadPicture','執行hover事件\x20id\x20','_delay','\x20不存在,\x20更新存擋失敗','_clickHandler','opacity','_targetScaleY','3162894jKhspL','getChildIndex','5492aAmFOy','沒有找到按鈕容器，禁用失敗','btnSetEvent','width','children','warn','setBitmap','interactive','5801130YbyRft','_overCallback','wait','onOver','_bitmapHover','_targetX','setColorTone','MoveMotion','bind','pointerover','_easingType','_updateCanvas','createMoveMotion','setHoverScript','_startMove','\x20\x20設定leave腳本','addLoadListener','setClickHandler','getBtnData','zIndex','clear','pointerout','isRunning','name','_leaveEventId','_spriteset','顯示\x20','6217376AjHnXM','clickEvent','onUp','updateBtn','error','interactiveChildren','createPictures','沒輸入id\x20建立失敗','_movtion','saveBtnShow','沒有找到按鈕容器，隱藏失敗','_hoverScriptFun','_clickBtnContainer','_leaveScriptFun','newBtn','addChildAt','_down','pointer','_easingExponent','\x20不存在,\x20顯示失敗','_targetY','_targetScaleX','3308280seeATZ','14BGAkLp','style','\x20\x20設定hover腳本','setClickScript','addText','_wholeDuration','bitmap','scale','\x20設定為\x20','isUp','applyEasing','_bitmapNormal','_waitAnimation','black','_leaveCallback','\x20不存在,\x20移動效果失敗','hoverScript','blurDelay','Container','motion','SpriteBtnInfo','setOverCallback','initHanlder','沒有找到按鈕容器，顯示失敗','easeOut','drawText','_height','hideBtn','reserveCommonEvent','_lx','RPGMAKER_NAME','createScreenBtn','leaveEvent','setup','onPress','hide','id\x20','loadSystem','easeInOut','_clickScriptFun','customZ','_width','_duration','isMoving','_text','463340CHxFqx','updateMove','setLeaveScript','_over','leaveScript','height','calcEasing','prototype','setOutCallback','addChild','onLeave','SelectCursor','TouchBase','執行leave腳本','沒有找到按鈕容器，移動效果失敗','SpriteBtn','_displayObj','isHover','_rx','\x20\x20設定click腳本','_tagetOpacity','9eexORO','isDown','_scene','visible','updateCustomIndex','setHoverEventId','setPos','set','設定hover事件id\x20','onError','getChildByName','resetWait','call','onMove','_outCallback','onClick','activeBtn','\x20設定\x20click\x20觸發\x20','clearBtn','easeIn','show','setText','initBtn','UI_Mouse_01','\x20不存在,\x20隱藏失敗','update','log','_pictureContainer','delay'];a0_0x5129=function(){return _0x38e22d;};return a0_0x5129();}function a0_0x20a2(_0x217465,_0x278f37){const _0x51292a=a0_0x5129();return a0_0x20a2=function(_0x20a2cc,_0x3e378e){_0x20a2cc=_0x20a2cc-0x115;let _0x14521a=_0x51292a[_0x20a2cc];return _0x14521a;},a0_0x20a2(_0x217465,_0x278f37);}var chimakiModule=chimakiModule||{};((()=>{const _0x49ca56=a0_0x903ff4;let {SpriteBtnBase:_0xff5890}=chimakiModule;class _0x3e62a4 extends _0xff5890{[_0x49ca56(0x1c5)](){const _0x24b8f4=_0x49ca56;super['initialize'](...arguments),this[_0x24b8f4(0x153)]=new chimakiModule[(_0x24b8f4(0x175))][(_0x24b8f4(0x137))](this);}[_0x49ca56(0x1b4)](_0x553438){const _0x41e742=_0x49ca56;this[_0x41e742(0x12f)]=_0x553438,console[_0x41e742(0x1be)]('id\x20'+this[_0x41e742(0x147)]+_0x41e742(0x16a)+(_0x553438?'可':'不可')+'互動');}[_0x49ca56(0x1b8)](){this['visible']=!![];}['hide'](){const _0x35ae78=_0x49ca56;this[_0x35ae78(0x1a7)]=![];}[_0x49ca56(0x115)](_0x56f679){this['_leaveEventId']=_0x56f679;}['setLeaveScript'](_0x21152b){const _0x591b5a=_0x49ca56;this[_0x591b5a(0x158)]=_0x21152b;}['reset'](){const _0x32a922=_0x49ca56;this[_0x32a922(0x11c)]=null,this[_0x32a922(0x156)]=null,this[_0x32a922(0x148)]=null,this[_0x32a922(0x158)]=null,this[_0x32a922(0x189)]=null,this[_0x32a922(0x123)]=null;}['setBitmap'](_0x128285){const _0x5ec56d=_0x49ca56;let {bitmapNormal:bitmapNormal='',bitmapHover:bitmapHover=''}={..._0x128285},_0x2d3bdd=ImageManager[_0x5ec56d(0x11f)](bitmapNormal),_0x6df714=ImageManager['loadPicture'](bitmapHover);_0x2d3bdd[_0x5ec56d(0x140)](()=>{const _0x2e0224=_0x5ec56d;_0x6df714[_0x2e0224(0x140)](()=>{const _0x2c761c=_0x2e0224;this['_bitmapNormal']=_0x2d3bdd,this[_0x2c761c(0x134)]=_0x6df714;if(!this[_0x2c761c(0x134)])this[_0x2c761c(0x134)]=this['_bitmapNormal'];this[_0x2c761c(0x168)]=this[_0x2c761c(0x16d)];});});}[_0x49ca56(0x133)](){const _0x1ccb35=_0x49ca56;super[_0x1ccb35(0x133)](...arguments),this[_0x1ccb35(0x168)]=this[_0x1ccb35(0x134)],this[_0x1ccb35(0x156)]&&(console[_0x1ccb35(0x1be)]('執行hover腳本',this[_0x1ccb35(0x156)]),eval(this[_0x1ccb35(0x156)])),this[_0x1ccb35(0x11c)]&&(console[_0x1ccb35(0x1be)](_0x1ccb35(0x120)+this['_hoverEventId']),$gameTemp[_0x1ccb35(0x17e)](this[_0x1ccb35(0x11c)]));}[_0x49ca56(0x199)](){const _0x35a278=_0x49ca56;super[_0x35a278(0x199)](...arguments),this[_0x35a278(0x168)]=this[_0x35a278(0x16d)],this[_0x35a278(0x158)]&&(console['log'](_0x35a278(0x19c),this[_0x35a278(0x158)]),eval(this['_leaveScriptFun'])),this[_0x35a278(0x148)]&&(console['log']('執行leave事件\x20id\x20'+this[_0x35a278(0x148)]),$gameTemp[_0x35a278(0x17e)](this[_0x35a278(0x148)]));}[_0x49ca56(0x183)](_0x35294d,_0x1c7e59){this['_movtion']['setup'](_0x35294d,_0x1c7e59,0x2);}[_0x49ca56(0x1c1)](){const _0x7ad168=_0x49ca56;return this['_movtion'][_0x7ad168(0x146)]();}[_0x49ca56(0x1bd)](){const _0x529569=_0x49ca56;super[_0x529569(0x1bd)](),this[_0x529569(0x153)]&&this[_0x529569(0x153)]['update']();}['setHoverEventId'](_0x42888e){const _0x38dfab=_0x49ca56;this[_0x38dfab(0x11c)]=_0x42888e;}[_0x49ca56(0x13d)](_0x669224){this['_hoverScriptFun']=_0x669224;}[_0x49ca56(0x1b3)](){const _0x2d873e=_0x49ca56;super[_0x2d873e(0x1b3)](...arguments),this['bitmap']=this[_0x2d873e(0x16d)];}[_0x49ca56(0x184)](){const _0x4fd257=_0x49ca56;super['onPress'](...arguments),this['bitmap']=this[_0x4fd257(0x16d)],this[_0x4fd257(0x189)]&&eval(this['_clickScriptFun']);}[_0x49ca56(0x165)](_0x43d3cf){const _0x522b01=_0x49ca56;this[_0x522b01(0x189)]=_0x43d3cf;}}window[_0x49ca56(0x17d)]=function(_0x55d488){const _0x9b3e97=_0x49ca56;let _0x30027f=SceneManager['_scene'][_0x9b3e97(0x119)]();if(!_0x30027f){console[_0x9b3e97(0x14f)](_0x9b3e97(0x155));return;}let _0x435b2f=_0x30027f[_0x9b3e97(0x1ae)](_0x9b3e97(0x1cd)+_0x55d488);if(!_0x435b2f){console['error']('id\x20'+_0x55d488+_0x9b3e97(0x1bc));return;}_0x435b2f[_0x9b3e97(0x185)](),console['log'](_0x9b3e97(0x1c8)+_0x435b2f[_0x9b3e97(0x147)]+'\x20'),$gameScreen[_0x9b3e97(0x154)](_0x55d488,![]);},window['showBtn']=function(_0x2ebe13){const _0x406b7f=_0x49ca56;let _0x35b832=SceneManager[_0x406b7f(0x1a6)][_0x406b7f(0x119)]();if(!_0x35b832){console[_0x406b7f(0x14f)](_0x406b7f(0x179));return;}let _0x141443=_0x35b832[_0x406b7f(0x1ae)](_0x406b7f(0x1cd)+_0x2ebe13);if(!_0x141443){console[_0x406b7f(0x14f)](_0x406b7f(0x186)+_0x2ebe13+_0x406b7f(0x15e));return;}_0x141443[_0x406b7f(0x1b8)](),console[_0x406b7f(0x1be)](_0x406b7f(0x14a)+_0x141443[_0x406b7f(0x147)]+'\x20'),$gameScreen[_0x406b7f(0x154)](_0x2ebe13,!![]);},window[_0x49ca56(0x1cb)]=function(_0x10a7bc,_0x1180fa){const _0x32b8e9=_0x49ca56;let _0x45060b=SceneManager[_0x32b8e9(0x1a6)]['getClickBtnContainer']();if(!_0x45060b){console[_0x32b8e9(0x14f)](_0x32b8e9(0x129));return;}let _0x16e4b6=_0x45060b[_0x32b8e9(0x1ae)](_0x32b8e9(0x1cd)+_0x10a7bc);if(!_0x16e4b6){console[_0x32b8e9(0x14f)]('id\x20'+_0x10a7bc+'\x20不存在,\x20禁用失敗');return;}_0x16e4b6[_0x32b8e9(0x1b4)](_0x1180fa);},window['moveBtn']=function(_0x2f9c83,_0x44ec25,_0x5a75ef){const _0x183357=_0x49ca56;let _0x4df9a9=SceneManager['_scene']['getClickBtnContainer']();if(!_0x4df9a9){console['error'](_0x183357(0x19d));return;}let _0x3e99b7=_0x4df9a9[_0x183357(0x1ae)](_0x183357(0x1cd)+_0x2f9c83);if(!_0x3e99b7){console['error'](_0x183357(0x186)+_0x2f9c83+_0x183357(0x171));return;}_0x3e99b7[_0x183357(0x183)](_0x44ec25,_0x5a75ef),$gameScreen[_0x183357(0x11e)](_0x2f9c83,_0x5a75ef);},window[_0x49ca56(0x12a)]=function(_0x3a3cfb){const _0x3efba0=_0x49ca56;let {id:_0x4bff1f,clickEvent:_0x191125,clickScript:_0x2726be,leaveEvent:_0xb39ea4,leaveScript:_0x465f9c,hoverEvent:_0x236f54,hoverScript:_0x512dd1}={..._0x3a3cfb},_0x39f2c2=SceneManager[_0x3efba0(0x1a6)]['getClickBtnContainer']();if(!_0x39f2c2){console[_0x3efba0(0x14f)]('沒有找到按鈕容器，移動效果失敗');return;}let _0x3ee1ac=_0x39f2c2[_0x3efba0(0x1ae)](_0x3efba0(0x1cd)+_0x4bff1f);if(!_0x3ee1ac){console[_0x3efba0(0x14f)]('id\x20'+_0x4bff1f+_0x3efba0(0x1c3));return;}_0x236f54&&(_0x3ee1ac[_0x3efba0(0x1a9)](_0x236f54),console['log'](_0x3efba0(0x186)+_0x4bff1f+':\x20'+name+_0x3efba0(0x1ac)+_0x236f54)),_0x512dd1&&(_0x3ee1ac[_0x3efba0(0x13d)](_0x512dd1),console[_0x3efba0(0x1be)](_0x3efba0(0x186)+_0x4bff1f+':\x20'+name+_0x3efba0(0x164))),_0xb39ea4&&(_0x3ee1ac[_0x3efba0(0x115)](_0xb39ea4),console[_0x3efba0(0x1be)](_0x3efba0(0x186)+_0x4bff1f+':\x20'+name+_0x3efba0(0x118)+_0xb39ea4)),_0x465f9c&&(_0x3ee1ac[_0x3efba0(0x191)](_0x465f9c),console[_0x3efba0(0x1be)]('id\x20'+_0x4bff1f+':\x20'+name+_0x3efba0(0x13f))),_0x191125&&_0x3ee1ac[_0x3efba0(0x141)](()=>{const _0x2bd23d=_0x3efba0;console['log'](_0x2bd23d(0x186)+_0x4bff1f+':\x20'+name+_0x2bd23d(0x1b5)+_0x191125),$gameTemp[_0x2bd23d(0x17e)](_0x191125);}),_0x2726be&&(_0x3ee1ac[_0x3efba0(0x165)](_0x2726be),console[_0x3efba0(0x1be)](_0x3efba0(0x186)+_0x4bff1f+':\x20'+name+_0x3efba0(0x1a2))),$gameScreen['updateBtn'](_0x3a3cfb);},window[_0x49ca56(0x159)]=function(_0x343c39){const _0x65e4c6=_0x49ca56;let {id:_0x40a562,name:_0x68a96,hoverName:_0x249f4a,x:_0x4903d1,y:_0x33c0c4,visible:_0x3437f4}={..._0x343c39};if(!_0x40a562){console[_0x65e4c6(0x12d)](_0x65e4c6(0x152));return;}let _0x44238b=SceneManager['_scene'][_0x65e4c6(0x119)](),_0x1127ce=_0x44238b[_0x65e4c6(0x1ae)](_0x65e4c6(0x1cd)+_0x40a562);if(_0x1127ce){console[_0x65e4c6(0x12d)](_0x65e4c6(0x186)+_0x40a562+'\x20已經存在,\x20建立失敗');return;}let _0x554784=new _0x3e62a4();_0x554784['x']=_0x4903d1,_0x554784['y']=_0x33c0c4,_0x554784[_0x65e4c6(0x147)]='chimakiBtn_'+_0x40a562,_0x554784[_0x65e4c6(0x12e)]({'bitmapNormal':_0x68a96,'bitmapHover':_0x249f4a});if(!_0x3437f4)_0x554784['hide']();return _0x44238b[_0x65e4c6(0x198)](_0x554784),$gameScreen[_0x65e4c6(0x1ba)](_0x343c39),_0x554784;};})());var chimakiModule=chimakiModule||{};((()=>{const _0x4678b3=a0_0x903ff4;class _0x1d1d19 extends Sprite{}let _0x58bbbb=Spriteset_Base[_0x4678b3(0x196)][_0x4678b3(0x151)];Spriteset_Base['prototype'][_0x4678b3(0x151)]=function(){const _0x3afde8=_0x4678b3;_0x58bbbb[_0x3afde8(0x1b0)](this),this['createClickBtnContainer']();},Spriteset_Base['prototype'][_0x4678b3(0x181)]=function(){const _0x1a6f78=_0x4678b3;let _0x41fb03=$gameScreen[_0x1a6f78(0x142)]();for(let _0x467a9c in _0x41fb03){let _0x926d90=_0x41fb03[_0x467a9c],{id:_0x38c741,name:_0x569d03,hoverName:_0x98329f,x:_0x4a2f0e,y:_0x3ca00f,visible:_0x50cccf,clickEvent:_0x2618f1,clickScript:_0x1b9370,leaveEvent:_0x1d50e9,leaveScript:_0x56b71a,hoverEvent:_0x1ec0de,hoverScript:_0x4e1961}=_0x926d90,_0x4f99af={'id':_0x38c741,'name':_0x569d03,'hoverName':_0x98329f,'x':_0x4a2f0e,'y':_0x3ca00f,'visible':_0x50cccf},_0x268c0d=newBtn(_0x4f99af),_0x1b2460={'id':_0x38c741,'clickEvent':_0x2618f1,'clickScript':_0x1b9370,'leaveEvent':_0x1d50e9,'leaveScript':_0x56b71a,'hoverEvent':_0x1ec0de,'hoverScript':_0x4e1961};btnSetEvent(_0x1b2460);};};let _0x15a1a8=Scene_Map['prototype'][_0x4678b3(0x1c2)];Scene_Map[_0x4678b3(0x196)][_0x4678b3(0x1c2)]=function(){const _0xd6b024=_0x4678b3;_0x15a1a8[_0xd6b024(0x1b0)](this),this[_0xd6b024(0x149)][_0xd6b024(0x181)]();},Spriteset_Base[_0x4678b3(0x196)]['createClickBtnContainer']=function(){const _0x3e11ce=_0x4678b3;this['_clickBtnContainer']=new _0x1d1d19(),this['_clickBtnContainer'][_0x3e11ce(0x18a)]=0x1,this[_0x3e11ce(0x1bf)][_0x3e11ce(0x18a)]=0x2,this[_0x3e11ce(0x198)](this['_clickBtnContainer']);},Spriteset_Base[_0x4678b3(0x196)][_0x4678b3(0x119)]=function(){const _0x241693=_0x4678b3;return this[_0x241693(0x157)];};let _0x3f939f=Spriteset_Base[_0x4678b3(0x196)][_0x4678b3(0x1bd)];Spriteset_Base[_0x4678b3(0x196)][_0x4678b3(0x1bd)]=function(){const _0x4b3913=_0x4678b3;_0x3f939f[_0x4b3913(0x1b0)](this),this[_0x4b3913(0x1a8)]();},Spriteset_Base[_0x4678b3(0x196)][_0x4678b3(0x1a8)]=function(){const _0x3459b0=_0x4678b3;if(!this[_0x3459b0(0x157)])return;var _0x15a2de=this[_0x3459b0(0x127)](this[_0x3459b0(0x1bf)]),_0xae7d1b=this[_0x3459b0(0x127)](this['_clickBtnContainer']);_0xae7d1b>_0x15a2de&&this[_0x3459b0(0x15a)](this['_clickBtnContainer'],_0x15a2de-0x1);},Scene_Map[_0x4678b3(0x196)][_0x4678b3(0x119)]=function(){const _0x15a6bc=_0x4678b3;return this[_0x15a6bc(0x149)][_0x15a6bc(0x119)]();};let _0x2ed86a=Game_Screen['prototype'][_0x4678b3(0x144)];Game_Screen['prototype'][_0x4678b3(0x144)]=function(){const _0x34ec53=_0x4678b3;_0x2ed86a['call'](this),this[_0x34ec53(0x1b6)]();},Game_Screen[_0x4678b3(0x196)][_0x4678b3(0x1b6)]=function(){const _0x317c16=_0x4678b3;this[_0x317c16(0x1c4)]={};},Game_Screen[_0x4678b3(0x196)][_0x4678b3(0x1ba)]=function(_0x20c89e){let {id:_0x791587,name:_0x424b1a,hoverName:_0x59f531,x:_0x2a52e4,y:_0x1d909d,visible:_0x3e02e4}=_0x20c89e;this['_btns'][_0x791587]={'id':_0x791587,'name':_0x424b1a,'hoverName':_0x59f531,'x':_0x2a52e4,'y':_0x1d909d,'visible':_0x3e02e4};},Game_Screen['prototype'][_0x4678b3(0x154)]=function(_0x73ee92,_0x4832ad){const _0x3e028d=_0x4678b3;this[_0x3e028d(0x1c4)][_0x73ee92][_0x3e028d(0x1a7)]=_0x4832ad;},Game_Screen['prototype'][_0x4678b3(0x142)]=function(){const _0x1786eb=_0x4678b3;return this[_0x1786eb(0x1c4)];},Game_Screen[_0x4678b3(0x196)][_0x4678b3(0x11e)]=function(_0x355cb2,_0x812c3c){const _0x3fa5f8=_0x4678b3;let {x:_0x251795,y:_0x5da521}=_0x812c3c;if(!this[_0x3fa5f8(0x1c4)][_0x355cb2]){console['error'](_0x3fa5f8(0x186)+_0x355cb2+'\x20不存在,\x20更新位置失敗');return;}if(_0x251795)this[_0x3fa5f8(0x1c4)][_0x355cb2]['x']=Number(_0x251795);if(_0x5da521)this[_0x3fa5f8(0x1c4)][_0x355cb2]['y']=Number(_0x5da521);},Game_Screen[_0x4678b3(0x196)][_0x4678b3(0x14e)]=function(_0x30c06d){const _0x56ef0e=_0x4678b3;let {id:_0xb4a9aa,clickEvent:_0x3f4ce4,clickScript:_0x29f764,leaveEvent:_0x5bbbb8,leaveScript:_0x1434cf,hoverEvent:_0x5e9e85,hoverScript:_0xbbc907}=_0x30c06d;if(!this[_0x56ef0e(0x1c4)][_0xb4a9aa]){console[_0x56ef0e(0x14f)](_0x56ef0e(0x186)+_0xb4a9aa+_0x56ef0e(0x122));return;}this[_0x56ef0e(0x1c4)][_0xb4a9aa][_0x56ef0e(0x14c)]=_0x3f4ce4,this[_0x56ef0e(0x1c4)][_0xb4a9aa]['clickScript']=_0x29f764,this[_0x56ef0e(0x1c4)][_0xb4a9aa][_0x56ef0e(0x182)]=_0x5bbbb8,this[_0x56ef0e(0x1c4)][_0xb4a9aa][_0x56ef0e(0x193)]=_0x1434cf,this[_0x56ef0e(0x1c4)][_0xb4a9aa]['hoverEvent']=_0x5e9e85,this[_0x56ef0e(0x1c4)][_0xb4a9aa][_0x56ef0e(0x172)]=_0xbbc907;};})());